<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Applications - <%= scholarship.scholarshipName %></title>
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="/css/sidebar.css">
  <link rel="stylesheet" href="/css/topbar.css">
  <link rel="stylesheet" href="/css/footer.css">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .back-link {
      color: #667eea;
      text-decoration: none;
      margin-bottom: 1rem;
      display: inline-block;
      font-weight: 600;
    }

    .back-link:hover {
      text-decoration: underline;
    }

    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 2rem;
      border-radius: 12px;
      margin-bottom: 2rem;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .header h1 {
      margin: 0 0 0.5rem 0;
      font-size: 2rem;
    }

    .header p {
      margin: 0;
      opacity: 0.9;
      font-size: 1.1rem;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: #666;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .filters {
      background: white;
      padding: 1.5rem;
      border-radius: 10px;
      margin-bottom: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      display: flex;
      gap: 1rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-group {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .filter-group label {
      font-weight: 600;
      color: #555;
    }

    .filter-group select {
      padding: 0.5rem 1rem;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .filter-group select:focus {
      outline: none;
      border-color: #667eea;
    }

    .applications-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .application-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      display: grid;
      grid-template-columns: 60px 1fr auto;
      gap: 1.5rem;
      align-items: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .application-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }

    .rank-badge {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      box-shadow: 0 3px 10px rgba(102, 126, 234, 0.3);
    }

    .rank-badge.top-rank {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      box-shadow: 0 3px 10px rgba(245, 87, 108, 0.3);
    }

    .rank-badge.gold {
      background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
      color: #333;
    }

    .rank-badge.silver {
      background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%);
      color: #333;
    }

    .rank-badge.bronze {
      background: linear-gradient(135deg, #cd7f32 0%, #e8a87c 100%);
      color: white;
    }

    .applicant-info {
      flex: 1;
    }

    .applicant-name {
      font-size: 1.3rem;
      font-weight: 600;
      color: #333;
      margin-bottom: 0.5rem;
    }

    .applicant-details {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      margin-bottom: 0.5rem;
    }

    .detail-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #666;
      font-size: 0.9rem;
    }

    .detail-item strong {
      color: #333;
    }

    .match-score {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      color: white;
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.85rem;
    }

    .eligibility-badge {
      padding: 0.3rem 0.8rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.85rem;
    }

    .eligible {
      background: #d4edda;
      color: #155724;
    }

    .not-eligible {
      background: #f8d7da;
      color: #721c24;
    }

    .pending {
      background: #fff3cd;
      color: #856404;
    }

    .application-actions {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .btn {
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      transition: transform 0.2s;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    .btn-view {
      background: #667eea;
      color: white;
    }

    .btn-approve {
      background: #27ae60;
      color: white;
    }

    .btn-reject {
      background: #e74c3c;
      color: white;
    }

    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .empty-state img {
      max-width: 200px;
      opacity: 0.5;
      margin-bottom: 1rem;
    }

    .empty-state h3 {
      color: #666;
      margin-bottom: 0.5rem;
    }

    .empty-state p {
      color: #999;
    }

    @media (max-width: 768px) {
      .application-card {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .rank-badge {
        margin: 0 auto;
      }

      .applicant-details {
        justify-content: center;
      }

      .application-actions {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <%- include('../partials/sidebar_sponsor') %>

  <div class="main-wrapper">
    <%- include('../partials/topbar', { pageTitle: 'Applications' }) %>

    <main class="page-content">
      <div class="container">
        <a href="/sponsor/offers/<%= scholarship.id %>" class="back-link">ê Back to Scholarship Details</a>

        <div class="header">
          <h1><%= scholarship.scholarshipName %></h1>
          <p>Review and manage applications for this scholarship</p>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value">24</div>
            <div class="stat-label">Total Applications</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">18</div>
            <div class="stat-label">Eligible Applicants</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">6</div>
            <div class="stat-label">Pending Review</div>
          </div>
          <div class="stat-card">
            <div class="stat-value"><%= scholarship.slotsAvailable - scholarship.slotsFilled %></div>
            <div class="stat-label">Slots Available</div>
          </div>
        </div>

        <div class="filters">
          <div class="filter-group">
            <label for="statusFilter">Status:</label>
            <select id="statusFilter">
              <option value="all">All Applications</option>
              <option value="eligible">Eligible Only</option>
              <option value="pending">Pending Review</option>
              <option value="approved">Approved</option>
              <option value="rejected">Rejected</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="sortBy">Sort by:</label>
            <select id="sortBy">
              <option value="rank">Ranking (Best Match)</option>
              <option value="gpa">GPA (Highest First)</option>
              <option value="date">Application Date</option>
            </select>
          </div>
        </div>

        <div class="applications-list">
          <!-- Sample Application 1 - Top Ranked -->
          <div class="application-card">
            <div class="rank-badge gold">1</div>
            <div class="applicant-info">
              <div class="applicant-name">Maria Santos</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 3.95
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Computer Science
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 3rd Year
                </div>
                <div class="detail-item">
                  <span class="match-score">98% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge eligible">Eligible</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 15, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-approve">Approve</button>
            </div>
          </div>

          <!-- Sample Application 2 -->
          <div class="application-card">
            <div class="rank-badge silver">2</div>
            <div class="applicant-info">
              <div class="applicant-name">Juan Dela Cruz</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 3.88
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Information Technology
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 4th Year
                </div>
                <div class="detail-item">
                  <span class="match-score">95% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge eligible">Eligible</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 14, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-approve">Approve</button>
            </div>
          </div>

          <!-- Sample Application 3 -->
          <div class="application-card">
            <div class="rank-badge bronze">3</div>
            <div class="applicant-info">
              <div class="applicant-name">Ana Reyes</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 3.82
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Computer Engineering
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 2nd Year
                </div>
                <div class="detail-item">
                  <span class="match-score">92% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge eligible">Eligible</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 16, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-approve">Approve</button>
            </div>
          </div>

          <!-- Sample Application 4 -->
          <div class="application-card">
            <div class="rank-badge">4</div>
            <div class="applicant-info">
              <div class="applicant-name">Carlos Martinez</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 3.75
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Computer Science
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 3rd Year
                </div>
                <div class="detail-item">
                  <span class="match-score">88% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge eligible">Eligible</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 13, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-approve">Approve</button>
            </div>
          </div>

          <!-- Sample Application 5 -->
          <div class="application-card">
            <div class="rank-badge">5</div>
            <div class="applicant-info">
              <div class="applicant-name">Sofia Garcia</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 3.70
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Information Systems
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 2nd Year
                </div>
                <div class="detail-item">
                  <span class="match-score">85% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge pending">Pending Review</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 17, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-approve">Approve</button>
            </div>
          </div>

          <!-- Sample Application 6 - Not Eligible -->
          <div class="application-card">
            <div class="rank-badge">6</div>
            <div class="applicant-info">
              <div class="applicant-name">Pedro Ramos</div>
              <div class="applicant-details">
                <div class="detail-item">
                  <strong>GPA:</strong> 2.85
                </div>
                <div class="detail-item">
                  <strong>Course:</strong> Business Administration
                </div>
                <div class="detail-item">
                  <strong>Year:</strong> 1st Year
                </div>
                <div class="detail-item">
                  <span class="match-score">52% Match</span>
                </div>
                <div class="detail-item">
                  <span class="eligibility-badge not-eligible">Not Eligible</span>
                </div>
              </div>
              <div class="detail-item">
                <strong>Applied:</strong> January 12, 2025
              </div>
            </div>
            <div class="application-actions">
              <a href="#" class="btn btn-view">View Details</a>
              <button class="btn btn-reject">Reject</button>
            </div>
          </div>
        </div>

        <!-- Empty State (commented out, shown when no applications) -->
        <!--
        <div class="empty-state">
          <h3>No Applications Yet</h3>
          <p>Applications for this scholarship will appear here once students start applying.</p>
        </div>
        -->
      </div>
    </main>

    <%- include('../partials/footer') %>
  </div>

  <script src="/js/sidebar.js"></script>
  <script>
    // Sample filter functionality
    document.getElementById('statusFilter').addEventListener('change', function() {
      console.log('Filter by status:', this.value);
      // TODO: Implement filtering logic
    });

    document.getElementById('sortBy').addEventListener('change', function() {
      console.log('Sort by:', this.value);
      // TODO: Implement sorting logic
    });
  </script>
</body>
</html>
